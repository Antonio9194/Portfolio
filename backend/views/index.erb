<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous" />
  <link rel="stylesheet" href="/css/style.css" />
  <link rel="icon" type="image/png" href="/images/smoke.png" />
  <title>Antonio Vinciguerra Portfolio</title>
</head>

<body>
  <header>
    <nav class="navbar">
      <div class="container d-flex justify-content-between align-items-center">
        <h1>Antonio's Portfolio</h1>
        <div>
          <a href="#about" class="me-3">About</a>
          <a href="#tech" class="me-3">Tech</a>
          <a href="#footer" class="me-3">Links</a>
          <form id="login-form" action="/login" method="POST" class="d-inline">
            <div id="password-field" style="display: none;" class="d-inline-block me-2">
              <input type="password" name="password" placeholder="Password" required>
              <button type="submit" class="btn btn-sm btn-primary">Login</button>
            </div>
            <button type="button" id="show-password" class="btn btn-outline-secondary btn-sm">
              <i class="fa-regular fa-user"></i>
            </button>
          </form>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <section id="hero" class="py-5 bg-light">
      <div class="container text-center">
        <h2 id="typing" class="mb-3"></h2>
        <h5 class="mb-4">Full Stack Web Developer based in Tokyo</h5>
        <a href="#portfolio" class="btn btn-primary btn-lg">Projects</a>
      </div>
    </section>

    <section id="about" class="py-5">
      <div class="container text-center">
        <div class="about">
          <img src="./images/avatar.jpg" alt="avatar picture" class="rounded-circle mb-3" style="max-width:150px;">
          <h3>About Me</h3>
          <hr class="w-25 mx-auto mb-4" />
          <h4>Born and raised in Italy</h4>
          <h4>Lived between China and Japan for over 8 years</h4>
          <h4>Passionate about programming</h4>
          <h3 class="mt-4">Hobbies</h3>
          <ul class="list-inline">
            <li class="list-inline-item mx-3"><i class="fa-solid fa-gamepad"></i> Gaming</li>
            <li class="list-inline-item mx-3"><i class="fa-solid fa-dragon"></i> Anime</li>
            <li class="list-inline-item mx-3"><i class="fa-solid fa-code"></i> Coding</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="portfolio" class="py-5 bg-light">
      <div class="container">
        <h2 class="text-center mb-5">Projects</h2>
        <div id="projects-container" class="row text-center"></div>
      </div>
    </section>

    <section id="tech" class="py-5">
      <div class="container text-center">
        <h2>Tech Stack</h2>
        <div class="icon-stack d-flex flex-wrap justify-content-center gap-4 mt-4">
          <img src="./images/html-5.png" alt="html logo" style="height:60px;">
          <img src="./images/css-3.png" alt="css logo" style="height:60px;">
          <img src="./images/ruby.png" alt="ruby logo" style="height:60px;">
          <img src="./images/postgre.png" alt="postgresql logo" style="height:60px;">
          <img src="./images/sqlite.svg" alt="sqlite logo" style="height:60px;">
          <img src="./images/postman.svg" alt="postman logo" style="height:60px;">
          <img src="./images/node.svg" alt="node logo" style="height:60px;">
          <img src="./images/js.svg" alt="js logo" style="height:60px;">
          <img src="./images/bootstrap.svg" alt="bootstrap logo" style="height:60px;">
        </div>
      </div>
    </section>
  </main>

  <footer id="footer" class="bg-dark text-light py-3">
    <div class="container d-flex justify-content-between align-items-center">
      <p class="mb-0">&copy; 2025 | Antonio |</p>
      <div>
        <a href="https://github.com/Antonio9194" target="_blank" class="text-light me-3">
          <i class="fa-brands fa-github-alt fa-lg"></i>
        </a>
        <a href="https://www.linkedin.com/in/vinciguerra-antonio/" target="_blank" class="text-light">
          <i class="fa-brands fa-linkedin fa-lg"></i>
        </a>
      </div>
    </div>
  </footer>

  <script>
    const text = "Hey, I am Antonio";
    const emoji = " ðŸ‘‹";
    const typingElement = document.getElementById("typing");
    let index = 0;

    function type() {
      if (index < text.length) {
        typingElement.textContent += text.charAt(index);
        index++;
        setTimeout(type, 100);
      } else {
        setTimeout(() => {
          typingElement.textContent += emoji;
        }, 300);
      }
    }

    window.onload = type;
  </script>

  <script>
    const toggleBtn = document.getElementById('show-password');
    const passwordField = document.getElementById('password-field');

    toggleBtn.addEventListener('click', () => {
      passwordField.style.display = 'inline-block';
      toggleBtn.style.display = 'none';
    });
  </script>

  <script>
    async function loadProjects() {
      try {
        const response = await fetch('/projects');
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);

        const projects = await response.json();
        console.log('Fetched projects:', projects);

        const container = document.getElementById('projects-container');
        container.innerHTML = '';

        projects.forEach(project => {
          const title = project.title || '(No title)';
          const description = project.description || '(No description)';
          const languages = project.languages || '';
          const link = project.link || '';
          const github = project.github || '';

          const col = document.createElement('div');
          col.className = 'col-md-4 mb-4';

          col.innerHTML = `
            <div class="card h-100 shadow-sm">
              <div class="card-body d-flex flex-column">
                <h5 class="card-title">${title}</h5>
                <p class="card-text flex-grow-1">${description}</p>
                ${languages ? `<div class="language-tag mt-2">${
                  languages.split(/[,\s]+/).map(lang => `<span class="language-pill">${lang.trim()}</span>`).join('')
                }</div>` : ''}
                <div>
                  ${link ? `<a href="${link}" target="_blank" class="btn btn-primary btn-sm me-2">Live Demo</a>` : ''}
                  ${github ? `<a href="${github}" target="_blank" class="btn btn-secondary btn-sm">GitHub</a>` : ''}
                </div>
              </div>
            </div>
          `;

          container.appendChild(col);
        });
      } catch (error) {
        console.error('Error loading projects:', error);
      }
    }

    window.addEventListener('DOMContentLoaded', loadProjects);
  </script>
</body>

</html>